<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Remove values from an existing extract definition for an IPUMS microdata
project — remove_from_extract.micro_extract • ipumsr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous"><link href="../docsearch.css" rel="stylesheet"><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Remove values from an existing extract definition for an IPUMS microdata
project — remove_from_extract.micro_extract"><meta property="og:description" content='
Remove existing values from an IPUMS microdata extract definition. All
fields are optional, and if omitted, will be unchanged.
This function is marked as experimental because it is typically not the best
option for maintaining reproducible extract definitions and may be retired
in the future. For reproducibility, users should strive to build extract
definitions with define_extract_*() functions.
If you have a complicated extract definition to revise, but do not have
the original extract definition code that created it, we suggest that you
save the revised extract as a JSON file with save_extract_as_json(). This
will create a stable version of the extract definition that
can be used in the future as needed.
To add new values to an IPUMS microdata extract definition, see
add_to_extract().
Learn more about the IPUMS API in vignette("ipums-api").'><meta property="og:image" content="http://tech.popdata.org/ipumsr/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ipumsr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.6.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../articles/ipums.html">Get Started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li class="dropdown-header">IPUMS Data</li>
    <li>
      <a href="../articles/ipums-read.html">Read IPUMS data</a>
    </li>
    <li>
      <a href="../articles/value-labels.html">Value labels</a>
    </li>
    <li>
      <a href="../articles/ipums-bigdata.html">Big IPUMS data</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">IPUMS API</li>
    <li>
      <a href="../articles/ipums-api.html">Introduction to the API</a>
    </li>
    <li>
      <a href="../articles/ipums-api-micro.html">Microdata API requests</a>
    </li>
    <li>
      <a href="../articles/ipums-api-nhgis.html">NHGIS API requests</a>
    </li>
    <li class="divider">
    <li>
      <a href="https://ipums.org/exercises.shtml" class="external-link">Project-specific exercises</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ipums/ipumsr" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://forum.ipums.org" class="external-link">
    <span class="fa fa-users"></span>
     
  </a>
</li>
<li>
  <a href="https://www.ipums.org/" class="external-link">
    <span class="fa fa-globe"></span>
     
  </a>
</li>
      </ul><form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off"></div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Remove values from an existing extract definition for an IPUMS microdata
project</h1>
    <small class="dont-index">Source: <a href="https://github.com/ipums/ipumsr/blob/HEAD/R/api_define_extract.R" class="external-link"><code>R/api_define_extract.R</code></a></small>
    <div class="hidden name"><code>remove_from_extract.micro_extract.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="figures/lifecycle-experimental.svg" alt="[Experimental]"></a></p>
<p>Remove existing values from an IPUMS microdata extract definition. All
fields are optional, and if omitted, will be unchanged.</p>
<p>This function is marked as experimental because it is typically not the best
option for maintaining reproducible extract definitions and may be retired
in the future. For reproducibility, users should strive to build extract
definitions with <code><a href="define_extract-micro.html">define_extract_*()</a></code> functions.</p>
<p>If you have a complicated extract definition to revise, but do not have
the original extract definition code that created it, we suggest that you
save the revised extract as a JSON file with <code><a href="save_extract_as_json.html">save_extract_as_json()</a></code>. This
will create a stable version of the extract definition that
can be used in the future as needed.</p>
<p>To add new values to an IPUMS microdata extract definition, see
<code><a href="add_to_extract_micro.html">add_to_extract()</a></code>.</p>
<p>Learn more about the IPUMS API in <code><a href="../articles/ipums-api.html">vignette("ipums-api")</a></code>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for micro_extract</span></span>
<span><span class="fu"><a href="remove_from_extract.html">remove_from_extract</a></span><span class="op">(</span><span class="va">extract</span>, samples <span class="op">=</span> <span class="cn">NULL</span>, variables <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>extract</dt>
<dd><p>An <code><a href="ipums_extract-class.html">ipums_extract</a></code> object.</p></dd>


<dt>samples</dt>
<dd><p>Character vector of sample names to remove from the extract
definition.</p></dd>


<dt>variables</dt>
<dd><p>Names of the variables to remove from the extract
definition. All variable-specific fields for the indicated variables
will also be removed.</p></dd>


<dt>...</dt>
<dd><p>Ignored</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A modified <code>micro_extract</code> object</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>If the supplied extract definition comes from
a previously submitted extract request, this function will reset the
definition to an unsubmitted state.</p>
<p>To retain a variable while modifying its particular specifications, first
remove that variable, then add a new specification using <code><a href="add_to_extract.html">add_to_extract()</a></code>.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="add_to_extract_micro.html">add_to_extract()</a></code> to add values
to an extract definition.</p>
<p><code><a href="submit_extract.html">submit_extract()</a></code> and <code><a href="download_extract.html">download_extract()</a></code> to submit and process an
extract request.</p>
<p><code><a href="define_extract-micro.html">define_extract_*()</a></code> to create a new extract
definition from scratch.</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">usa_extract</span> <span class="op">&lt;-</span> <span class="fu"><a href="define_extract-micro.html">define_extract_usa</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  description <span class="op">=</span> <span class="st">"USA example"</span>,</span></span>
<span class="r-in"><span>  samples <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"us2013a"</span>, <span class="st">"us2014a"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="var_spec.html">var_spec</a></span><span class="op">(</span><span class="st">"AGE"</span>, data_quality_flags <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="var_spec.html">var_spec</a></span><span class="op">(</span><span class="st">"SEX"</span>, case_selections <span class="op">=</span> <span class="st">"1"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="st">"RACE"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Providing names of samples or variables will remove them and</span></span></span>
<span class="r-in"><span><span class="co"># all of their associated specifications from the extract:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="remove_from_extract.html">remove_from_extract</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">usa_extract</span>,</span></span>
<span class="r-in"><span>  samples <span class="op">=</span> <span class="st">"us2014a"</span>,</span></span>
<span class="r-in"><span>  variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"AGE"</span>, <span class="st">"RACE"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Unsubmitted IPUMS USA extract </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Description: USA example</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="font-weight: bold;">Samples: </span>(1 total) us2013a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="font-weight: bold;">Variables: </span>(1 total) SEX</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># To remove detailed specifications from a variable, indicate the</span></span></span>
<span class="r-in"><span><span class="co"># specifications to remove within `var_spec()`. The</span></span></span>
<span class="r-in"><span><span class="co"># named variable will be retained in the extract, but modified by</span></span></span>
<span class="r-in"><span><span class="co"># removing the indicated specifications.</span></span></span>
<span class="r-in"><span><span class="fu"><a href="remove_from_extract.html">remove_from_extract</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">usa_extract</span>,</span></span>
<span class="r-in"><span>  variables <span class="op">=</span> <span class="fu"><a href="var_spec.html">var_spec</a></span><span class="op">(</span><span class="st">"SEX"</span>, case_selections <span class="op">=</span> <span class="st">"1"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Unsubmitted IPUMS USA extract </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Description: USA example</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="font-weight: bold;">Samples: </span>(2 total) us2013a, us2014a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="font-weight: bold;">Variables: </span>(3 total) AGE, SEX, RACE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># To make multiple modifications, use a list of `var_spec()` objects.</span></span></span>
<span class="r-in"><span><span class="fu"><a href="remove_from_extract.html">remove_from_extract</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">usa_extract</span>,</span></span>
<span class="r-in"><span>  variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="var_spec.html">var_spec</a></span><span class="op">(</span><span class="st">"SEX"</span>, case_selections <span class="op">=</span> <span class="st">"1"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="var_spec.html">var_spec</a></span><span class="op">(</span><span class="st">"AGE"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Unsubmitted IPUMS USA extract </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Description: USA example</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="font-weight: bold;">Samples: </span>(2 total) us2013a, us2014a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="font-weight: bold;">Variables: </span>(2 total) SEX, RACE</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p>Developed by <a href="https://www.ipums.org" class="external-link">IPUMS</a> at the University of Minnesota.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> .</p>
</div>

      </footer></div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: '4ffa912ace97d2493f6ed39f20e94316',
    indexName: 'ipumsr',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script></body></html>

