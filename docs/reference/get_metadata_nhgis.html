<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content='Retrieve information about available NHGIS data sources, including
datasets,
data tables (summary tables),
time series tables,
and shapefiles (GIS files).
To retrieve summary metadata for all available data sources of a particular
type, use the type argument. To retrieve detailed metadata for a
single data source, use the dataset, data_table, or time_series_table
argument. See the metadata availability section below for information on
the metadata provided for each data type.
For general information, see the NHGIS
data source overview and the
FAQ.
Learn more about the IPUMS API in vignette("ipums-api") and
NHGIS extract definitions in vignette("ipums-api-nhgis").'><title>List available data sources from IPUMS NHGIS — get_metadata_nhgis • ipumsr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="List available data sources from IPUMS NHGIS — get_metadata_nhgis"><meta property="og:description" content='Retrieve information about available NHGIS data sources, including
datasets,
data tables (summary tables),
time series tables,
and shapefiles (GIS files).
To retrieve summary metadata for all available data sources of a particular
type, use the type argument. To retrieve detailed metadata for a
single data source, use the dataset, data_table, or time_series_table
argument. See the metadata availability section below for information on
the metadata provided for each data type.
For general information, see the NHGIS
data source overview and the
FAQ.
Learn more about the IPUMS API in vignette("ipums-api") and
NHGIS extract definitions in vignette("ipums-api-nhgis").'><meta property="og:image" content="http://tech.popdata.org/ipumsr/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">ipumsr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.7.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/ipums.html">Get Started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>IPUMS Data</h6>
    <a class="dropdown-item" href="../articles/ipums-read.html">Read IPUMS data</a>
    <a class="dropdown-item" href="../articles/value-labels.html">Value labels</a>
    <a class="dropdown-item" href="../articles/ipums-bigdata.html">Big IPUMS data</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>IPUMS API</h6>
    <a class="dropdown-item" href="../articles/ipums-api.html">Introduction to the API</a>
    <a class="dropdown-item" href="../articles/ipums-api-micro.html">Microdata API requests</a>
    <a class="dropdown-item" href="../articles/ipums-api-nhgis.html">NHGIS API requests</a>
    <div class="dropdown-divider"></div>
    <a class="external-link dropdown-item" href="https://ipums.org/exercises.shtml">Project-specific exercises</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ipums/ipumsr">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://forum.ipums.org">
    <span class="fa fa-users"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://www.ipums.org/">
    <span class="fa fa-globe"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>List available data sources from IPUMS NHGIS</h1>
      <small class="dont-index">Source: <a href="https://github.com/ipums/ipumsr/blob/HEAD/R/api_metadata.R" class="external-link"><code>R/api_metadata.R</code></a></small>
      <div class="d-none name"><code>get_metadata_nhgis.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Retrieve information about available NHGIS data sources, including
<a href="https://www.nhgis.org/overview-nhgis-datasets" class="external-link">datasets</a>,
data tables (summary tables),
<a href="https://www.nhgis.org/time-series-tables" class="external-link">time series tables</a>,
and <a href="https://www.nhgis.org/gis-files" class="external-link">shapefiles</a> (GIS files).</p>
<p>To retrieve summary metadata for all available data sources of a particular
type, use the <code>type</code> argument. To retrieve detailed metadata for a
single data source, use the <code>dataset</code>, <code>data_table</code>, or <code>time_series_table</code>
argument. See the <em>metadata availability</em> section below for information on
the metadata provided for each data type.</p>
<p>For general information, see the NHGIS
<a href="https://www.nhgis.org/data-availability" class="external-link">data source overview</a> and the
<a href="https://www.nhgis.org/frequently-asked-questions-faq" class="external-link">FAQ</a>.</p>
<p>Learn more about the IPUMS API in <code><a href="../articles/ipums-api.html">vignette("ipums-api")</a></code> and
NHGIS extract definitions in <code><a href="../articles/ipums-api-nhgis.html">vignette("ipums-api-nhgis")</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_metadata_nhgis</span><span class="op">(</span></span>
<span>  type <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dataset <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  data_table <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  time_series_table <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  delay <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  api_key <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"IPUMS_API_KEY"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>type</dt>
<dd><p>One of <code>"datasets"</code>, <code>"data_tables"</code>, <code>"time_series_tables"</code>,
or <code>"shapefiles"</code> indicating the type of summary metadata to retrieve.
Leave <code>NULL</code> if requesting metadata for a single <code>dataset</code>, <code>data_table</code>,
or <code>time_series_table</code>.</p></dd>


<dt>dataset</dt>
<dd><p>Name of an individual dataset for which to retrieve metadata.</p></dd>


<dt>data_table</dt>
<dd><p>Name of an individual data table for which to retrieve
metadata. If provided, an associated <code>dataset</code> must also be specified.</p></dd>


<dt>time_series_table</dt>
<dd><p>Name of an individual time series table for which
to retrieve metadata.</p></dd>


<dt>delay</dt>
<dd><p>Number of seconds to delay between
successive API requests, if multiple requests are needed to retrieve all
records.</p>
<p>A delay is highly unlikely to be necessary and is intended only as a
fallback in the event that you cannot retrieve all metadata records without
exceeding the API rate limit.</p>
<p>Only used if <code>type</code> is provided.</p></dd>


<dt>api_key</dt>
<dd><p>API key associated with your user account. Defaults to the
value of the <code>IPUMS_API_KEY</code> environment variable. See
<code><a href="set_ipums_api_key.html">set_ipums_api_key()</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>If <code>type</code> is provided, a <code><a href="https://tibble.tidyverse.org/reference/tbl_df-class.html" class="external-link">tibble</a></code> of
summary metadata for all data sources of the provided <code>type</code>.
Otherwise, a named list of metadata for the specified <code>dataset</code>,
<code>data_table</code>, or <code>time_series_table</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="metadata-availability">Metadata availability<a class="anchor" aria-label="anchor" href="#metadata-availability"></a></h2>
    

<p>The following sections summarize the metadata fields provided for each data
type. Summary metadata include a subset of the fields provided for individual
data sources.</p><div class="section">
<h3 id="datasets-">Datasets:<a class="anchor" aria-label="anchor" href="#datasets-"></a></h3>

<ul><li><p><strong><code>name</code>:</strong> The unique identifier for the dataset. This is the value that
is used to refer to the dataset when interacting with the IPUMS API.</p></li>
<li><p><strong><code>group</code>:</strong> The group of datasets to which the dataset belongs.
For instance, 5 separate datasets are part of the
<code>"2015 American Community Survey"</code> group.</p></li>
<li><p><strong><code>description</code>:</strong> A short description of the dataset.</p></li>
<li><p><strong><code>sequence</code>:</strong> Order in which the dataset will appear in the metadata API
and extracts.</p></li>
<li><p><strong><code>has_multiple_data_types</code>:</strong> Logical value indicating whether multiple
data types exist for this dataset. For example, ACS
datasets include both estimates and margins of error.</p></li>
<li><p><strong><code>data_tables</code>:</strong> A <code><a href="https://tibble.tidyverse.org/reference/tbl_df-class.html" class="external-link">tibble</a></code> containing names,
codes, and descriptions for all data tables available for the dataset.</p></li>
<li><p><strong><code>geog_levels</code>:</strong> A <code><a href="https://tibble.tidyverse.org/reference/tbl_df-class.html" class="external-link">tibble</a></code> containing names,
descriptions, and extent information for the geographic levels available
for the dataset. The <code>has_geog_extent_selection</code> field contains logical
values indicating whether extent selection is allowed (and required) for
the associated geographic level. See <code>geographic_instances</code> below.</p></li>
<li><p><strong><code>breakdowns</code>:</strong> A <code><a href="https://tibble.tidyverse.org/reference/tbl_df-class.html" class="external-link">tibble</a></code> containing names,
types, descriptions, and breakdown values for all breakdowns available
for the dataset.</p></li>
<li><p><strong><code>years</code>:</strong> A vector of years for which the dataset is available. This
field is only present if a dataset is available for multiple years. Note
that ACS datasets are not considered to be available for multiple years.</p></li>
<li><p><strong><code>geographic_instances</code>:</strong> A <code><a href="https://tibble.tidyverse.org/reference/tbl_df-class.html" class="external-link">tibble</a></code> containing
names and descriptions for all valid geographic extents for the
dataset. This field is only present if at least one of the dataset's
<code>geog_levels</code> allows geographic extent selection.</p></li>
</ul></div>

<div class="section">
<h3 id="data-tables-">Data tables:<a class="anchor" aria-label="anchor" href="#data-tables-"></a></h3>

<ul><li><p><strong><code>name</code>:</strong> The unique identifier for the data table within its dataset.
This is the value that is used to refer to the data table when interacting
with the IPUMS API.</p></li>
<li><p><strong><code>description</code>:</strong> A short description of the data table.</p></li>
<li><p><strong><code>universe</code>:</strong> The statistical population measured by this data table
(e.g. persons, families, occupied housing units, etc.)</p></li>
<li><p><strong><code>nhgis_code</code>:</strong> The code identifying the data table in the extract.
Variables in the extract data will include column names prefixed with this
code.</p></li>
<li><p><strong><code>sequence</code>:</strong> Order in which the data table will appear in the metadata
API and extracts.</p></li>
<li><p><strong><code>dataset_name</code>:</strong> Name of the dataset to which this data table belongs.</p></li>
<li><p><strong><code>n_variables</code>:</strong> Number of variables included in this data table.</p></li>
<li><p><strong><code>variables</code>:</strong> A <code><a href="https://tibble.tidyverse.org/reference/tbl_df-class.html" class="external-link">tibble</a></code> containing variable
descriptions and codes for the variables included in the data table</p></li>
</ul></div>

<div class="section">
<h3 id="time-series-tables-">Time series tables:<a class="anchor" aria-label="anchor" href="#time-series-tables-"></a></h3>

<ul><li><p><strong><code>name</code>:</strong> The unique identifier for the time series table. This is the
value that is used to refer to the time series table when interacting with
the IPUMS API.</p></li>
<li><p><strong><code>description</code>:</strong> A short description of the time series table.</p></li>
<li><p><strong><code>geographic_integration</code>:</strong> The method by which the time series table
aligns geographic units across time. <code>"Nominal"</code> integration indicates
that geographic units are aligned by name (disregarding changes in unit
boundaries). <code>"Standardized"</code> integration indicates that data from multiple
time points are standardized to the indicated year's census units. For
more information, click
<a href="https://www.nhgis.org/time-series-tables#geographic-integration" class="external-link">here</a>.</p></li>
<li><p><strong><code>sequence</code>:</strong> Order in which the time series table will appear in the
metadata API and extracts.</p></li>
<li><p><strong><code>time_series</code>:</strong> A <code><a href="https://tibble.tidyverse.org/reference/tbl_df-class.html" class="external-link">tibble</a></code> containing names
and descriptions for the individual time series available for the
time series table.</p></li>
<li><p><strong><code>years</code>:</strong> A <code><a href="https://tibble.tidyverse.org/reference/tbl_df-class.html" class="external-link">tibble</a></code> containing
information on the available data years for the
time series table.</p></li>
<li><p><strong><code>geog_levels</code>:</strong> A <code><a href="https://tibble.tidyverse.org/reference/tbl_df-class.html" class="external-link">tibble</a></code> containing names
and descriptions for the geographic levels available
for the time series table.</p></li>
</ul></div>

<div class="section">
<h3 id="shapefiles-">Shapefiles:<a class="anchor" aria-label="anchor" href="#shapefiles-"></a></h3>

<ul><li><p><strong><code>name</code>:</strong> The unique identifier for the shapefile. This is the
value that is used to refer to the shapefile when interacting with
the IPUMS API.</p></li>
<li><p><strong><code>year</code>:</strong> The survey year in which the shapefile's represented areas
were used for tabulations, which may be different than the vintage of the
represented areas. For more information, click
<a href="https://www.nhgis.org/gis-files#years" class="external-link">here</a>.</p></li>
<li><p><strong><code>geographic_level</code>:</strong> The geographic level of the shapefile.</p></li>
<li><p><strong><code>extent</code>:</strong> The geographic extent covered by the shapefile.</p></li>
<li><p><strong><code>basis</code>:</strong> The derivation source of the shapefile.</p></li>
<li><p><strong><code>sequence</code>:</strong> Order in which the shapefile will appear in the
metadata API and extracts.</p></li>
</ul></div>

    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="define_extract_nhgis.html">define_extract_nhgis()</a></code> to create an IPUMS NHGIS extract definition.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get summary metadata for all available sources of a given data type</span></span></span>
<span class="r-in"><span><span class="fu">get_metadata_nhgis</span><span class="op">(</span><span class="st">"datasets"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Filter to identify data sources of interest by their metadata values</span></span></span>
<span class="r-in"><span><span class="va">all_tsts</span> <span class="op">&lt;-</span> <span class="fu">get_metadata_nhgis</span><span class="op">(</span><span class="st">"time_series_tables"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">tsts</span> <span class="op">&lt;-</span> <span class="va">all_tsts</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"Children"</span>, <span class="va">description</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"Families"</span>, <span class="va">description</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="va">geographic_integration</span> <span class="op">==</span> <span class="st">"Standardized to 2010"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">tsts</span><span class="op">$</span><span class="va">name</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get detailed metadata for a single source with its associated argument:</span></span></span>
<span class="r-in"><span><span class="va">cs5_meta</span> <span class="op">&lt;-</span> <span class="fu">get_metadata_nhgis</span><span class="op">(</span>time_series_table <span class="op">=</span> <span class="st">"CS5"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">cs5_meta</span><span class="op">$</span><span class="va">geog_levels</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Use the available values when defining an NHGIS extract request</span></span></span>
<span class="r-in"><span><span class="fu"><a href="define_extract_nhgis.html">define_extract_nhgis</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  time_series_tables <span class="op">=</span> <span class="fu"><a href="ds_spec.html">tst_spec</a></span><span class="op">(</span><span class="st">"CS5"</span>, geog_levels <span class="op">=</span> <span class="st">"state"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Detailed metadata is also provided for datasets and data tables</span></span></span>
<span class="r-in"><span><span class="fu">get_metadata_nhgis</span><span class="op">(</span>dataset <span class="op">=</span> <span class="st">"1990_STF1"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">get_metadata_nhgis</span><span class="op">(</span>data_table <span class="op">=</span> <span class="st">"NP1"</span>, dataset <span class="op">=</span> <span class="st">"1990_STF1"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Iterate over data sources to retrieve detailed metadata for several</span></span></span>
<span class="r-in"><span><span class="co"># records. For instance, to get variable metadata for a set of data tables:</span></span></span>
<span class="r-in"><span><span class="va">tables</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"NP1"</span>, <span class="st">"NP2"</span>, <span class="st">"NP10"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">var_meta</span> <span class="op">&lt;-</span> <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">tables</span>,</span></span>
<span class="r-in"><span>  <span class="kw">function</span><span class="op">(</span><span class="va">dt</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="va">dt_meta</span> <span class="op">&lt;-</span> <span class="fu">get_metadata_nhgis</span><span class="op">(</span>dataset <span class="op">=</span> <span class="st">"1990_STF1"</span>, data_table <span class="op">=</span> <span class="va">dt</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>    <span class="co"># This ensures you avoid hitting rate limit for large numbers of tables</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/Sys.sleep.html" class="external-link">Sys.sleep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>    <span class="va">dt_meta</span><span class="op">$</span><span class="va">variables</span></span></span>
<span class="r-in"><span>  <span class="op">}</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://www.ipums.org" class="external-link">IPUMS</a> at the University of Minnesota.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

