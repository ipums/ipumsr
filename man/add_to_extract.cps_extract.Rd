% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/api_define_extract.R
\name{add_to_extract.cps_extract}
\alias{add_to_extract.cps_extract}
\title{Add values to an existing IPUMS CPS extract definition}
\usage{
\method{add_to_extract}{cps_extract}(
  extract,
  description = NULL,
  samples = NULL,
  variables = NULL,
  data_format = NULL,
  ...
)
}
\arguments{
\item{extract}{An \code{\link[=ipums_extract-class]{ipums_extract}} object.}

\item{description}{Description of the extract.}

\item{samples}{Character vector of sample names to include in the extract.
Samples should be specified using IPUMS CPS
\href{https://cps.ipums.org/cps-action/samples/sample_ids}{sample ID values}.}

\item{variables}{Character vector of variable names or a list of
\code{ipums_variable} objects created by \code{\link[=new_variable]{new_variable()}}
containing specifications for all variables to include in the extract.

If a variable already exists in the extract, its specifications
will be added to those that already exist for that variable.}

\item{data_format}{Format for the output extract data file. One of
\code{"fixed_width"}, \code{"csv"}, \code{"stata"}, \code{"spss"}, or \code{"sas9"}.}

\item{...}{Ignored}
}
\value{
A modified \code{cps_extract} object
}
\description{
Add new values or replace existing values in an IPUMS CPS extract definition.
All fields are optional, and if omitted, will be unchanged. Supplying a value
for fields that take a single value, such as \code{description} and \code{data_format},
will replace the existing value with the supplied value.

To remove existing values from an IPUMS CPS extract definition, use
\code{\link[=remove_from_extract.cps_extract]{remove_from_extract()}}. To add values
contained in another extract definition, use \code{\link[=combine_extracts]{combine_extracts()}}.

Learn more about the IPUMS API in \code{vignette("ipums-api")}.
}
\details{
If the supplied extract definition comes from
a previously submitted extract request, this function will reset the
definition to an unsubmitted state.
}
\examples{
extract <- define_extract_cps(
  description = "Example CPS extract definition",
  samples = c("cps2020_02s", "cps2020_03s"),
  variables = c("AGE", "SEX", "YEAR")
)

add_to_extract(extract, samples = "cps2021_03s")

extract2 <- add_to_extract(
  extract,
  samples = "cps2021_03s",
  variables = c("MARST", "RELATE")
)

# Values that only take a single value are replaced
add_to_extract(extract, description = "New description")$description

# You can also combine two separate extract requests together
combine_extracts(extract, extract2)
}
\seealso{
\code{\link[=remove_from_extract.cps_extract]{remove_from_extract()}} to remove values
from an extract definition.

\code{\link[=combine_extracts]{combine_extracts()}} to combine multiple extract definitions.

\code{\link[=submit_extract]{submit_extract()}} and \code{\link[=download_extract]{download_extract()}} to submit and process an
extract request.

\code{\link[=define_extract_cps]{define_extract_cps()}} to create a new extract definition.
}
\keyword{internal}
