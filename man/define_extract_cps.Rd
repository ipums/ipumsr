% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/api_define_extract.R
\name{define_extract_cps}
\alias{define_extract_cps}
\title{Define an IPUMS CPS extract request}
\usage{
define_extract_cps(
  description,
  samples,
  variables,
  data_format = "fixed_width",
  data_structure = "rectangular",
  rectangular_on = NULL
)
}
\arguments{
\item{description}{Description of the extract.}

\item{samples}{Character vector of samples to include in the extract. Samples
should be specified using IPUMS CPS
\href{https://cps.ipums.org/cps-action/samples/sample_ids}{sample ID values}.}

\item{variables}{Character vector of variables to include in the extract.}

\item{data_format}{The desired format of the extract data file. One of
\code{"fixed_width"}, \code{"csv"}, \code{"stata"}, \code{"spss"}, or \code{"sas9"}.}

\item{data_structure}{The desired structure of the extract data.

\code{"rectangular"} provides person records with all requested household
information attached to respective household members.

\code{"hierarchical"} provides household records followed by person records.}

\item{rectangular_on}{Records on which to rectangularize. \code{"P"}
rectangularizes on person records. \code{"H"} provides household-only records.

Currently, only \code{"P"} is supported.}
}
\value{
An object of class \code{\link[=ipums_extract-class]{cps_extract}} containing
the extract definition.
}
\description{
Define an IPUMS CPS extract request to be submitted via the IPUMS
API. An extract request contains the specifications required
to identify and obtain a particular set of data from the IPUMS CPS system.

Learn more about the IPUMS API in \code{vignette("ipums-api")}.
}
\examples{
my_extract <- define_extract_cps(
  description = "Example CPS extract definition",
  samples = c("cps2020_02s", "cps2020_03s"),
  variables = c("AGE", "SEX", "YEAR")
)

my_extract

\dontrun{
# Use the extract definition to submit an extract request to the API
submit_extract(my_extract)
}
}
\seealso{
\code{\link[=submit_extract]{submit_extract()}}, \code{\link[=download_extract]{download_extract()}}, and \code{\link[=get_extract_info]{get_extract_info()}} to
process and manage an extract request.

\code{\link[=save_extract_as_json]{save_extract_as_json()}} and \code{\link[=define_extract_from_json]{define_extract_from_json()}} to share an
extract definition.

\code{\link[=add_to_extract.cps_extract]{add_to_extract()}},
\code{\link[=remove_from_extract.cps_extract]{remove_from_extract()}}, and
\code{\link[=combine_extracts]{combine_extracts()}} to
revise an extract definition.
}
