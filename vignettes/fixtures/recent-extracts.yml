http_interactions:
- request:
    method: get
    uri: https://api.ipums.org/extracts/?collection=usa&version=2&pageNumber=1&pageSize=10
    body:
      encoding: ''
      string: ''
    headers:
      Accept: application/json, text/xml, application/xml, */*
      Authorization: <<<IPUMS_API_KEY>>>
  response:
    status:
      status_code: 200
      category: Success
      reason: OK
      message: 'Success: (200) OK'
    headers:
      cache-control: max-age=0, private, must-revalidate
      content-type: application/json; charset=utf-8
      date: Wed, 10 May 2023 07:38:17 GMT
      etag: W/"0f0e3a9a9079ca47c9964befea702ccc"
      referrer-policy: strict-origin-when-cross-origin
      server: nginx/1.18.0
      vary: Origin
      x-content-type-options: nosniff
      x-download-options: noopen
      x-frame-options: SAMEORIGIN
      x-permitted-cross-domain-policies: none
      x-ratelimit-limit: '-1'
      x-ratelimit-remaining: '0'
      x-ratelimit-reset: '0'
      x-request-id: cd730806-4ea3-4741-8424-16a73e860718
      x-runtime: '0.506929'
      x-xss-protection: '0'
      content-length: '11982'
    body:
      encoding: ''
      file: no
      string: '{"data":[{"number":311,"status":"completed","email":"robe2037@umn.edu","downloadLinks":{"rCommandFile":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/2028926/usa_00311.R","bytes":406,"sha256":"549c012756d4a4103d37c531043ea61a4b1ead410065425d40a8418b8b1a6aeb"},"basicCodebook":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/2028926/usa_00311.cbk","bytes":25356,"sha256":"92ee5376d84f04d2bac25949753aeb698ec01eb648c573061a9e6ed7a79f8197"},"data":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/2028926/usa_00311.dat.gz","bytes":83827507,"sha256":"9ac6f484e0f9cc62aec1d3a87c92ac74cc0a518747d6814ea2b6292ade3f8bcf"},"stataCommandFile":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/2028926/usa_00311.do","bytes":34951,"sha256":"a903f82490852b11e0bc225929a0f4a79867ed2ce11f61f7f944e2a997c5e815"},"sasCommandFile":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/2028926/usa_00311.sas","bytes":18543,"sha256":"3348848d505f2eea813d577458ef95ba54fd22e4eb132315ffcf9e8ef48c1692"},"spssCommandFile":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/2028926/usa_00311.sps","bytes":19145,"sha256":"8c27f43221b18c0088c62f6c53dbc9d84a03262f4eaab44fafa74becb33fb675"},"ddiCodebook":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/2028926/usa_00311.xml","bytes":92150,"sha256":"febed4d0c5d2d51a8f1834ae2833b2268c544ec9780a2d7c5d2139309c769054"}},"extractDefinition":{"version":2,"dataStructure":{"rectangular":{"on":"P"}},"dataFormat":"fixed_width","caseSelectWho":"individuals","description":"USA
        extract for API vignette","samples":{"us2018a":{},"us2019a":{}},"variables":{"YEAR":{"preselected":true},"SAMPLE":{"preselected":true},"SERIAL":{"preselected":true},"CBSERIAL":{"preselected":true},"HHWT":{"preselected":true},"CLUSTER":{"preselected":true},"STATEFIP":{},"STRATA":{"preselected":true},"GQ":{"preselected":true},"PERNUM":{"preselected":true},"PERWT":{"preselected":true},"SEX":{},"AGE":{},"MARST":{},"RACE":{}},"collection":"usa"}},{"number":310,"status":"completed","email":"robe2037@umn.edu","downloadLinks":{"rCommandFile":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/2028912/usa_00310.R","bytes":406,"sha256":"3070d47bcbbcb74b09cc90e413032ea1505520ee5046f1822edab2461a7de9b7"},"basicCodebook":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/2028912/usa_00310.cbk","bytes":8177,"sha256":"c465e41aafedcdce19787d2f0d6e184b1e916f2fe340ad2ec87df54f6b40f6c4"},"data":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/2028912/usa_00310.dat.gz","bytes":10036073,"sha256":"9530ee5f42afb69c3ce7b6ce649d5f88ae43a8638304c6dd57eb7b076ea2e1a9"},"stataCommandFile":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/2028912/usa_00310.do","bytes":11702,"sha256":"29d2ed3cd5b3a0911ad3545f23260f144eafa75077440445446ee4e074ce85a9"},"sasCommandFile":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/2028912/usa_00310.sas","bytes":6631,"sha256":"03d44f9c009608cbc82dad6ed2fa48d2a18271bbac5a7ff7ac2f06e442ee7bfc"},"spssCommandFile":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/2028912/usa_00310.sps","bytes":6563,"sha256":"35c7cc9413c3659920bcd708c426e523304bf9424cc7ac0bbe5eda5d70cf30c3"},"ddiCodebook":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/2028912/usa_00310.xml","bytes":40757,"sha256":"b6a5c98333426864d84fe721218fdb86bd21cd72575e886ece6611ed9b240fbf"}},"extractDefinition":{"version":2,"dataStructure":{"rectangular":{"on":"P"}},"dataFormat":"fixed_width","caseSelectWho":"individuals","description":"2013
        ACS Data for Married Women","samples":{"us2013a":{}},"variables":{"YEAR":{"preselected":true},"SAMPLE":{"preselected":true},"SERIAL":{"preselected":true},"CBSERIAL":{"preselected":true},"HHWT":{"preselected":true},"CLUSTER":{"preselected":true},"STRATA":{"preselected":true},"GQ":{"preselected":true},"PERNUM":{"preselected":true},"PERWT":{"preselected":true},"SEX":{"caseSelections":{"general":["2"]}},"MARST":{"caseSelections":{"general":["1"]}}},"collection":"usa"}},{"number":309,"status":"completed","email":"robe2037@umn.edu","downloadLinks":{"rCommandFile":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/2027337/usa_00309.R","bytes":406,"sha256":"97ffea84c156e12c5bee68a2b49884c0e15e1fcd5b1edfcce45ec805e538f83f"},"basicCodebook":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/2027337/usa_00309.cbk","bytes":7816,"sha256":"acc9bc8c574326e477908028c9ec273211e68713be56354c9ce992ea77a54f31"},"data":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/2027337/usa_00309.dat.gz","bytes":92448935,"sha256":"2a129db20677059c0daf3d4c0d21bb3974a4f1cbd9de136a1c6a2af74f87c35a"},"stataCommandFile":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/2027337/usa_00309.do","bytes":11043,"sha256":"7bef68f01881d8845d6b6b232a9b48375e27f71fabf2bf167f1e1fc7eaa7d7c4"},"sasCommandFile":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/2027337/usa_00309.sas","bytes":6245,"sha256":"f9e41aaa70bc40cf6f5f63aab637aae09c92661e3e28d1bffad191b6eef2fd1c"},"spssCommandFile":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/2027337/usa_00309.sps","bytes":6233,"sha256":"8ed055055e342a4e2612206318df6d04e204f052f698f4c0157dfd375b9a8252"},"ddiCodebook":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/2027337/usa_00309.xml","bytes":37854,"sha256":"b3211b35ea0e9c4412e29be615c729b1c14cbe2045eb6f199ae78d3277487f26"}},"extractDefinition":{"version":2,"dataStructure":{"household":{}},"dataFormat":"fixed_width","caseSelectWho":"individuals","description":"Revision
        of (test hierarchical extract)","samples":{"us2020c":{}},"variables":{"YEAR":{"preselected":true},"MULTYEAR":{"preselected":true},"SAMPLE":{"preselected":true},"SERIAL":{"preselected":true},"CBSERIAL":{"preselected":true},"HHWT":{"preselected":true},"CLUSTER":{"preselected":true},"STRATA":{"preselected":true},"GQ":{"preselected":true}},"collection":"usa"},"warnings":["The
        ''household'' data structure is currently unsupported in IPUMS API. Supported
        data structures are currently limited to ''rectangular'' and ''hierarchical''."]},{"number":308,"status":"completed","email":"robe2037@umn.edu","downloadLinks":{"basicCodebook":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/2027289/usa_00308.cbk","bytes":19307,"sha256":"038fb8fc1e9e0dae0563a9cb1bb9d633f8e292277c00a0f995d017a2d9d667e7"},"data":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/2027289/usa_00308.sav.gz","bytes":14760,"sha256":"d92b8817e484ae4df36a85265313773797da363bfa7abd8361dc7b556405ac59"},"stsCommandFile":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/2027289/usa_00308.sts","bytes":14106,"sha256":"494254931116a4b28a075f6017d55e48b001e8c6645cecfc74d5e414a6a34bad"},"ddiCodebook":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/2027289/usa_00308.xml","bytes":68507,"sha256":"47a0f8be8624ea0ea0bf45b70f690f8429d93d072eddab1239a66be058e050a7"}},"extractDefinition":{"version":2,"dataStructure":{"rectangular":{"on":"P"}},"dataFormat":"spss","caseSelectWho":"households","description":"Test
        USA extract","samples":{"us2017b":{}},"variables":{"YEAR":{"preselected":true},"SAMPLE":{"preselected":true},"SERIAL":{"preselected":true},"CBSERIAL":{"preselected":true},"HHWT":{"preselected":true},"GQ":{"preselected":true},"PERNUM":{"preselected":true},"PERWT":{"preselected":true},"RACE":{"caseSelections":{"detailed":["801","802"]}}},"collection":"usa"}},{"number":307,"status":"completed","email":"robe2037@umn.edu","downloadLinks":{},"extractDefinition":{"version":2,"dataStructure":{"hierarchical":{}},"dataFormat":"fixed_width","caseSelectWho":"individuals","dataQualityFlags":true,"description":"Hier.
        extract created in ipumsr with dq flags","samples":{"us2020c":{}},"variables":{"RECTYPE":{},"YEAR":{"preselected":true},"MULTYEAR":{"preselected":true},"SAMPLE":{"preselected":true},"SERIAL":{"preselected":true},"CBSERIAL":{"preselected":true},"HHWT":{"preselected":true},"CLUSTER":{"preselected":true},"STRATA":{"preselected":true},"GQ":{"preselected":true},"PERNUM":{"preselected":true},"PERWT":{"preselected":true},"SEX":{},"AGE":{}},"collection":"usa"}},{"number":306,"status":"completed","email":"robe2037@umn.edu","downloadLinks":{},"extractDefinition":{"version":2,"dataStructure":{"hierarchical":{}},"dataFormat":"fixed_width","caseSelectWho":"individuals","description":"Hier.
        extract created in ipumsr","samples":{"us2020c":{}},"variables":{"RECTYPE":{},"YEAR":{"preselected":true},"MULTYEAR":{"preselected":true},"SAMPLE":{"preselected":true},"SERIAL":{"preselected":true},"CBSERIAL":{"preselected":true},"HHWT":{"preselected":true},"CLUSTER":{"preselected":true},"STRATA":{"preselected":true},"GQ":{"preselected":true},"PERNUM":{"preselected":true},"PERWT":{"preselected":true},"SEX":{},"AGE":{}},"collection":"usa"}},{"number":305,"status":"completed","email":"robe2037@umn.edu","downloadLinks":{},"extractDefinition":{"version":2,"dataStructure":{"hierarchical":{}},"dataFormat":"fixed_width","caseSelectWho":"individuals","description":"Revision
        of 304, submited via API","samples":{"us2020c":{}},"variables":{"RECTYPE":{},"YEAR":{"preselected":true},"MULTYEAR":{"preselected":true},"SAMPLE":{"preselected":true},"SERIAL":{"preselected":true},"CBSERIAL":{"preselected":true},"HHWT":{"preselected":true},"CLUSTER":{"preselected":true},"STRATA":{"preselected":true},"GQ":{"preselected":true},"PERNUM":{"preselected":true},"PERWT":{"preselected":true},"SEX":{"dataQualityFlags":true},"AGE":{"dataQualityFlags":true}},"collection":"usa"}},{"number":304,"status":"completed","email":"robe2037@umn.edu","downloadLinks":{},"extractDefinition":{"version":2,"dataStructure":{"hierarchical":{}},"dataFormat":"fixed_width","caseSelectWho":"individuals","description":"test
        hierarchical extract","samples":{"us2020c":{}},"variables":{"RECTYPE":{},"YEAR":{"preselected":true},"MULTYEAR":{"preselected":true},"SAMPLE":{"preselected":true},"SERIAL":{"preselected":true},"CBSERIAL":{"preselected":true},"HHWT":{"preselected":true},"CLUSTER":{"preselected":true},"STRATA":{"preselected":true},"GQ":{"preselected":true},"PERNUM":{"preselected":true},"PERWT":{"preselected":true},"SEX":{"dataQualityFlags":true},"AGE":{"dataQualityFlags":true}},"collection":"usa"}},{"number":303,"status":"completed","email":"robe2037@umn.edu","downloadLinks":{},"extractDefinition":{"version":2,"dataStructure":{"hierarchical":{}},"dataFormat":"fixed_width","caseSelectWho":"individuals","description":"Revision
        of (Testing unsupported API v2 features)","samples":{"us2017a":{},"us2018a":{},"us2019a":{}},"variables":{"RECTYPE":{},"YEAR":{"preselected":true},"SAMPLE":{"preselected":true},"SERIAL":{"preselected":true},"CBSERIAL":{"preselected":true},"HHWT":{"preselected":true},"CLUSTER":{"preselected":true},"REGION":{},"STATEFIP":{},"STRATA":{"preselected":true},"GQ":{"preselected":true},"PERNUM":{"preselected":true},"PERWT":{"preselected":true},"SEX":{"dataQualityFlags":true,"attachedCharacteristics":["head"]},"AGE":{"attachedCharacteristics":["mother","father","mother2","father2"]},"MARST":{"caseSelections":{"general":["1"]}},"RACE":{"caseSelections":{"detailed":["801","802","810"]}}},"collection":"usa"}},{"number":302,"status":"completed","email":"robe2037@umn.edu","downloadLinks":{},"extractDefinition":{"version":2,"dataStructure":{"rectangular":{"on":"P"}},"dataFormat":"fixed_width","caseSelectWho":"households","description":"Test
        USA extract","samples":{"us2017b":{}},"variables":{"YEAR":{"preselected":true},"SAMPLE":{"preselected":true},"SERIAL":{"preselected":true},"CBSERIAL":{"preselected":true},"HHWT":{"preselected":true},"GQ":{"preselected":true},"PERNUM":{"preselected":true},"PERWT":{"preselected":true},"RACE":{"caseSelections":{"detailed":["801","802"]}}},"collection":"usa"}}],"totalCount":311,"pageNumber":1,"pageSize":10,"links":{"previousPage":null,"nextPage":"https://api.ipums.org/extracts/?collection=usa\u0026pageNumber=2\u0026pageSize=10\u0026version=2"}}'
  recorded_at: 2023-05-10 07:38:18 GMT
  recorded_with: vcr/1.2.0, webmockr/0.9.0
- request:
    method: get
    uri: https://api.ipums.org/extracts/?collection=nhgis&version=2&pageNumber=1&pageSize=3
    body:
      encoding: ''
      string: ''
    headers:
      Accept: application/json, text/xml, application/xml, */*
      Authorization: <<<IPUMS_API_KEY>>>
  response:
    status:
      status_code: 200
      category: Success
      reason: OK
      message: 'Success: (200) OK'
    headers:
      cache-control: max-age=0, private, must-revalidate
      content-type: application/json; charset=utf-8
      date: Wed, 10 May 2023 07:38:18 GMT
      etag: W/"26f7e1d80480337c77358ed7fd636f32"
      referrer-policy: strict-origin-when-cross-origin
      server: nginx/1.18.0
      vary: Origin
      x-content-type-options: nosniff
      x-download-options: noopen
      x-frame-options: SAMEORIGIN
      x-permitted-cross-domain-policies: none
      x-ratelimit-limit: '-1'
      x-ratelimit-remaining: '0'
      x-ratelimit-reset: '0'
      x-request-id: 3275612e-06fe-4add-a7e4-91ad3aa4b617
      x-runtime: '0.598460'
      x-xss-protection: '0'
      content-length: '1443'
    body:
      encoding: ''
      file: no
      string: '{"data":[{"number":1223,"status":"completed","email":"robe2037@umn.edu","downloadLinks":{"codebookPreview":{"url":"https://api.ipums.org/downloads/nhgis/api/v1/extracts/2028927/nhgis1223_csv_PREVIEW.zip","bytes":2616,"sha256":null},"tableData":{"url":"https://api.ipums.org/downloads/nhgis/api/v1/extracts/2028927/nhgis1223_csv.zip","bytes":7046,"sha256":null}},"extractDefinition":{"dataFormat":"csv_no_header","description":"NHGIS
        extract for API vignette","datasets":{"2010_SF1a":{"dataTables":["P1","P2"],"geogLevels":["state"],"breakdownValues":["bs32.ge00"]}},"version":2,"collection":"nhgis"}},{"number":1222,"status":"completed","email":"robe2037@umn.edu","downloadLinks":{"gisData":{"url":"https://api.ipums.org/downloads/nhgis/api/v1/extracts/2026051/nhgis1222_shape.zip","bytes":510593,"sha256":null}},"extractDefinition":{"description":"","shapefiles":["110_blck_grp_2019_tl2019"],"version":2,"collection":"nhgis"}},{"number":1221,"status":"completed","email":"robe2037@umn.edu","downloadLinks":{"gisData":{"url":"https://api.ipums.org/downloads/nhgis/api/v1/extracts/2026050/nhgis1221_shape.zip","bytes":510593,"sha256":null}},"extractDefinition":{"description":"","shapefiles":["110_blck_grp_2019_tl2019"],"version":2,"collection":"nhgis"}}],"totalCount":1223,"pageNumber":1,"pageSize":3,"links":{"previousPage":null,"nextPage":"https://api.ipums.org/extracts/?collection=nhgis\u0026pageNumber=2\u0026pageSize=3\u0026version=2"}}'
  recorded_at: 2023-05-10 07:38:18 GMT
  recorded_with: vcr/1.2.0, webmockr/0.9.0
