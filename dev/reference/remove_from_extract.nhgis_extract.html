<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content='
Remove existing values from an IPUMS NHGIS extract definition. All
fields are optional, and if omitted, will be unchanged.
This function is marked as experimental because it is typically not the best
option for maintaining reproducible extract definitions and may be retired
in the future. For reproducibility, users should strive to build extract
definitions with define_extract_nhgis().
If you have a complicated extract definition to revise, but do not have
the original extract definition code that created it, we suggest that you
save the revised extract as a JSON file with save_extract_as_json(). This
will create a stable version of the extract definition that
can be used in the future as needed.
To add new values to an IPUMS NHGIS extract definition, use
add_to_extract().
Learn more about the IPUMS API in vignette("ipums-api").'><title>Remove values from an existing NHGIS extract definition — remove_from_extract.nhgis_extract • ipumsr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Remove values from an existing NHGIS extract definition — remove_from_extract.nhgis_extract"><meta property="og:description" content='
Remove existing values from an IPUMS NHGIS extract definition. All
fields are optional, and if omitted, will be unchanged.
This function is marked as experimental because it is typically not the best
option for maintaining reproducible extract definitions and may be retired
in the future. For reproducibility, users should strive to build extract
definitions with define_extract_nhgis().
If you have a complicated extract definition to revise, but do not have
the original extract definition code that created it, we suggest that you
save the revised extract as a JSON file with save_extract_as_json(). This
will create a stable version of the extract definition that
can be used in the future as needed.
To add new values to an IPUMS NHGIS extract definition, use
add_to_extract().
Learn more about the IPUMS API in vignette("ipums-api").'><meta property="og:image" content="http://tech.popdata.org/ipumsr/logo.png"><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">ipumsr</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.7.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/ipums.html">Get Started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>IPUMS Data</h6>
    <a class="dropdown-item" href="../articles/ipums-read.html">Read IPUMS data</a>
    <a class="dropdown-item" href="../articles/value-labels.html">Value labels</a>
    <a class="dropdown-item" href="../articles/ipums-bigdata.html">Big IPUMS data</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>IPUMS API</h6>
    <a class="dropdown-item" href="../articles/ipums-api.html">Introduction to the API</a>
    <a class="dropdown-item" href="../articles/ipums-api-micro.html">Microdata API requests</a>
    <a class="dropdown-item" href="../articles/ipums-api-nhgis.html">NHGIS API requests</a>
    <div class="dropdown-divider"></div>
    <a class="external-link dropdown-item" href="https://ipums.org/exercises.shtml">Project-specific exercises</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ipums/ipumsr">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://forum.ipums.org">
    <span class="fa fa-users"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://www.ipums.org/">
    <span class="fa fa-globe"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Remove values from an existing NHGIS extract definition</h1>
      <small class="dont-index">Source: <a href="https://github.com/ipums/ipumsr/blob/HEAD/R/api_define_extract.R" class="external-link"><code>R/api_define_extract.R</code></a></small>
      <div class="d-none name"><code>remove_from_extract.nhgis_extract.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="figures/lifecycle-experimental.svg" alt="[Experimental]"></a></p>
<p>Remove existing values from an IPUMS NHGIS extract definition. All
fields are optional, and if omitted, will be unchanged.</p>
<p>This function is marked as experimental because it is typically not the best
option for maintaining reproducible extract definitions and may be retired
in the future. For reproducibility, users should strive to build extract
definitions with <code><a href="define_extract_nhgis.html">define_extract_nhgis()</a></code>.</p>
<p>If you have a complicated extract definition to revise, but do not have
the original extract definition code that created it, we suggest that you
save the revised extract as a JSON file with <code><a href="save_extract_as_json.html">save_extract_as_json()</a></code>. This
will create a stable version of the extract definition that
can be used in the future as needed.</p>
<p>To add new values to an IPUMS NHGIS extract definition, use
<code><a href="add_to_extract.nhgis_extract.html">add_to_extract()</a></code>.</p>
<p>Learn more about the IPUMS API in <code><a href="../articles/ipums-api.html">vignette("ipums-api")</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for nhgis_extract</span></span>
<span><span class="fu"><a href="remove_from_extract.html">remove_from_extract</a></span><span class="op">(</span></span>
<span>  <span class="va">extract</span>,</span>
<span>  datasets <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  time_series_tables <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  geographic_extents <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  shapefiles <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>extract</dt>
<dd><p>An <code><a href="ipums_extract-class.html">ipums_extract</a></code> object.</p></dd>


<dt>datasets</dt>
<dd><p>Dataset specifications to remove from the extract definition.
All <code>data_tables</code>, <code>geog_levels</code>,
<code>years</code>, and <code>breakdown_values</code> associated with the specified
<code>datasets</code> will also be removed.</p></dd>


<dt>time_series_tables</dt>
<dd><p>Names of the time series tables
to remove from the extract definition. All <code>geog_levels</code> and <code>years</code>
associated  with the specified <code>time_series_tables</code> will also be removed.</p></dd>


<dt>geographic_extents</dt>
<dd><p>Geographic extents to remove from the extract
definition.</p></dd>


<dt>shapefiles</dt>
<dd><p>Shapefiles to remove from the extract definition.</p></dd>


<dt>...</dt>
<dd><p>Ignored</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A modified <code>nhgis_extract</code> object</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Any extract fields that are rendered irrelevant after modifying the extract
will be automatically removed. (For instance, if all <code>time_series_tables</code>
are removed from an extract, <code>tst_layout</code> will also be
removed.) Thus, it is not necessary to explicitly remove these values.</p>
<p>If the supplied extract definition comes from
a previously submitted extract request, this function will reset the
definition to an unsubmitted state.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="add_to_extract.nhgis_extract.html">add_to_extract()</a></code> to add values
to an extract definition.</p>
<p><code><a href="submit_extract.html">submit_extract()</a></code> and <code><a href="download_extract.html">download_extract()</a></code> to submit and process an
extract request.</p>
<p><code><a href="define_extract_nhgis.html">define_extract_nhgis()</a></code> to create a new extract definition.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">extract</span> <span class="op">&lt;-</span> <span class="fu"><a href="define_extract_nhgis.html">define_extract_nhgis</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  datasets <span class="op">=</span> <span class="fu"><a href="ds_spec.html">ds_spec</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"1990_STF1"</span>,</span></span>
<span class="r-in"><span>    data_tables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"NP1"</span>, <span class="st">"NP2"</span>, <span class="st">"NP3"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    geog_levels <span class="op">=</span> <span class="st">"county"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span>,</span></span>
<span class="r-in"><span>  time_series_tables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="ds_spec.html">tst_spec</a></span><span class="op">(</span><span class="st">"CW3"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"state"</span>, <span class="st">"county"</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="ds_spec.html">tst_spec</a></span><span class="op">(</span><span class="st">"CW5"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"state"</span>, <span class="st">"county"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Providing names of datasets or time series tables will remove them and</span></span></span>
<span class="r-in"><span><span class="co"># all of their associated specifications from the extract:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="remove_from_extract.html">remove_from_extract</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">extract</span>,</span></span>
<span class="r-in"><span>  time_series_tables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CW3"</span>, <span class="st">"CW5"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Unsubmitted IPUMS NHGIS extract </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Description: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB; font-weight: bold;">Dataset: </span>1990_STF1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="font-weight: bold;">Tables: </span>NP1, NP2, NP3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="font-weight: bold;">Geog Levels: </span>county</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># To remove detailed specifications from a dataset or time series table,</span></span></span>
<span class="r-in"><span><span class="co"># use `ds_spec()` or `tst_spec()`. The named dataset or time series table</span></span></span>
<span class="r-in"><span><span class="co"># will be retained in the extract, but modified by removing the indicated</span></span></span>
<span class="r-in"><span><span class="co"># specifications:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="remove_from_extract.html">remove_from_extract</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">extract</span>,</span></span>
<span class="r-in"><span>  datasets <span class="op">=</span> <span class="fu"><a href="ds_spec.html">ds_spec</a></span><span class="op">(</span><span class="st">"1990_STF1"</span>, data_tables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"NP2"</span>, <span class="st">"NP3"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Unsubmitted IPUMS NHGIS extract </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Description: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB; font-weight: bold;">Dataset: </span>1990_STF1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="font-weight: bold;">Tables: </span>NP1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="font-weight: bold;">Geog Levels: </span>county</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00; font-weight: bold;">Time Series Table: </span>CW3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="font-weight: bold;">Geog Levels: </span>state, county</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00; font-weight: bold;">Time Series Table: </span>CW5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="font-weight: bold;">Geog Levels: </span>state, county</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># To make multiple modifications, use a list of `ds_spec()` or `tst_spec()`</span></span></span>
<span class="r-in"><span><span class="co"># objects:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="remove_from_extract.html">remove_from_extract</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">extract</span>,</span></span>
<span class="r-in"><span>  time_series_tables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="ds_spec.html">tst_spec</a></span><span class="op">(</span><span class="st">"CW3"</span>, geog_levels <span class="op">=</span> <span class="st">"county"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="ds_spec.html">tst_spec</a></span><span class="op">(</span><span class="st">"CW5"</span>, geog_levels <span class="op">=</span> <span class="st">"state"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Unsubmitted IPUMS NHGIS extract </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Description: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB; font-weight: bold;">Dataset: </span>1990_STF1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="font-weight: bold;">Tables: </span>NP1, NP2, NP3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="font-weight: bold;">Geog Levels: </span>county</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00; font-weight: bold;">Time Series Table: </span>CW3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="font-weight: bold;">Geog Levels: </span>state</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00; font-weight: bold;">Time Series Table: </span>CW5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="font-weight: bold;">Geog Levels: </span>county</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://www.ipums.org" class="external-link">IPUMS</a> at the University of Minnesota.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

